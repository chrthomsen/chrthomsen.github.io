<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>steps &#8212; pygrametl 2.8 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=db3957a7" />
    <script src="../_static/documentation_options.js?v=4348de45"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="FIFODict" href="fifodict.html" />
    <link rel="prev" title="aggregators" href="aggregators.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="module-pygrametl.steps">
<span id="steps"></span><h1>steps<a class="headerlink" href="#module-pygrametl.steps" title="Link to this heading">¶</a></h1>
<p>This module contains classes for making “steps” in an ETL flow.
Steps can be connected such that a row flows from step to step and
each step does something with the row.</p>
<dl class="py class">
<dt class="sig sig-object py" id="pygrametl.steps.ConditionalStep">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pygrametl.steps.</span></span><span class="sig-name descname"><span class="pre">ConditionalStep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">condition</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">whentrue</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">whenfalse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pygrametl.steps.ConditionalStep" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pygrametl.steps.Step" title="pygrametl.steps.Step"><code class="xref py py-class docutils literal notranslate"><span class="pre">Step</span></code></a></p>
<p>A Step that redirects rows based on a condition.</p>
<p><strong>Arguments:</strong></p>
<ul class="simple">
<li><p>condition: A function f(row) that is evaluated for each row.</p></li>
<li><p>whentrue: The next step to use if the condition evaluates to a
true value. This argument  should be 1) an instance of a Step,
2) the name of a Step, or 3) None.
If if is a name, the next step will be looked up dynamically
each time. If it is None, no default step will exist and rows
will not be passed on.</p></li>
<li><p>whenfalse: The Step that rows are sent to when the condition
evaluates to a false value. If None, the rows are silently
discarded. Default: None</p></li>
<li><p>name: A name for the Step instance. This is used when another
Step (implicitly or explicitly) passes on rows. If two instanes
have the same name, the name is mapped to the instance that was
created the latest. Default: None</p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="pygrametl.steps.ConditionalStep.defaultworker">
<span class="sig-name descname"><span class="pre">defaultworker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">row</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pygrametl.steps.ConditionalStep.defaultworker" title="Link to this definition">¶</a></dt>
<dd><p>Perform the Step’s operation on the given row.</p>
<p>Inheriting classes should implement this method.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pygrametl.steps.CopyStep">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pygrametl.steps.</span></span><span class="sig-name descname"><span class="pre">CopyStep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">originaldest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">copydest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deepcopy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pygrametl.steps.CopyStep" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pygrametl.steps.Step" title="pygrametl.steps.Step"><code class="xref py py-class docutils literal notranslate"><span class="pre">Step</span></code></a></p>
<p>A Step that copies each row and passes on the copy and the original</p>
<p><strong>Arguments:</strong></p>
<ul class="simple">
<li><p>originaldest: The Step each given row is passed on to.
This argument  should be 1) an instance of a Step,
2) the name of a Step, or 3) None.
If if is a name, the next step will be looked up dynamically
each time. If it is None, no default step will exist and rows
will not be passed on.</p></li>
<li><p>copydest: The Step a copy of each given row is passed on to.
This argument can be 1) an instance of a Step or 2) the name
of a step.</p></li>
<li><p>name: A name for the Step instance. This is used when another
Step (implicitly or explicitly) passes on rows. If two instanes
have the same name, the name is mapped to the instance that was
created the latest. Default: None</p></li>
<li><p>deepcopy: Decides if the copy should be deep or not.
Default: False</p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="pygrametl.steps.CopyStep.defaultworker">
<span class="sig-name descname"><span class="pre">defaultworker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">row</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pygrametl.steps.CopyStep.defaultworker" title="Link to this definition">¶</a></dt>
<dd><p>Perform the Step’s operation on the given row.</p>
<p>Inheriting classes should implement this method.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pygrametl.steps.DimensionStep">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pygrametl.steps.</span></span><span class="sig-name descname"><span class="pre">DimensionStep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dimension</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keyfield</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">next</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pygrametl.steps.DimensionStep" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pygrametl.steps.Step" title="pygrametl.steps.Step"><code class="xref py py-class docutils literal notranslate"><span class="pre">Step</span></code></a></p>
<p>A Step that performs ensure(row) on a given dimension for each row.</p>
<p><strong>Arguments:</strong></p>
<ul class="simple">
<li><p>dimension: the Dimension object to call ensure on.</p></li>
<li><p>keyfield: the name of the attribute that in each row is set to
hold the key value for the dimension member</p></li>
<li><p>next: The default next step to use. This should be 1) an instance
of a Step, 2) the name of a Step, or 3) None.
If if is a name, the next step will be looked up dynamically
each time. If it is None, no default step will exist and rows
will not be passed on. Default: None</p></li>
<li><p>name: A name for the Step instance. This is used when another
Step (implicitly or explicitly) passes on rows. If two instanes
have the same name, the name is mapped to the instance that was
created the latest. Default: None</p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="pygrametl.steps.DimensionStep.defaultworker">
<span class="sig-name descname"><span class="pre">defaultworker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">row</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pygrametl.steps.DimensionStep.defaultworker" title="Link to this definition">¶</a></dt>
<dd><p>Perform the Step’s operation on the given row.</p>
<p>Inheriting classes should implement this method.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pygrametl.steps.GarbageStep">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pygrametl.steps.</span></span><span class="sig-name descname"><span class="pre">GarbageStep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pygrametl.steps.GarbageStep" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pygrametl.steps.Step" title="pygrametl.steps.Step"><code class="xref py py-class docutils literal notranslate"><span class="pre">Step</span></code></a></p>
<p>A Step that does nothing. Rows are neither modified nor passed on.</p>
<p><strong>Arguments:</strong></p>
<ul class="simple">
<li><p>name: A name for the Step instance. This is used when another
Step (implicitly or explicitly) passes on rows. If two instanes
have the same name, the name is mapped to the instance that was
created the latest. Default: None</p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="pygrametl.steps.GarbageStep.process">
<span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">row</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pygrametl.steps.GarbageStep.process" title="Link to this definition">¶</a></dt>
<dd><p>Perform the Step’s operation on the given row.</p>
<p>If the row is not explicitly redirected (see _redirect), it will
be passed on the the next step if this has been set.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pygrametl.steps.MappingStep">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pygrametl.steps.</span></span><span class="sig-name descname"><span class="pre">MappingStep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">targets</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">requiretargets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">next</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pygrametl.steps.MappingStep" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pygrametl.steps.Step" title="pygrametl.steps.Step"><code class="xref py py-class docutils literal notranslate"><span class="pre">Step</span></code></a></p>
<p>A Step that applies functions to attributes in rows.</p>
<p><strong>Arguments:</strong></p>
<ul class="simple">
<li><p>targets: A sequence of (name, function) pairs. For each element,
row[name] is set to function(row[name]) for each row given to the
step.</p></li>
<li><p>requiretargets: A flag that decides if a KeyError should be raised
if a name from targets does not exist in a row. If True, a
KeyError is raised, if False the missing attribute is ignored and
not set. Default: True</p></li>
<li><p>next: The default next step to use. This should be 1) an instance
of a Step, 2) the name of a Step, or 3) None.
If if is a name, the next step will be looked up dynamically
each time. If it is None, no default step will exist and rows
will not be passed on. Default: None</p></li>
<li><p>name: A name for the Step instance. This is used when another
Step (implicitly or explicitly) passes on rows. If two instanes
have the same name, the name is mapped to the instance that was
created the latest. Default: None</p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="pygrametl.steps.MappingStep.defaultworker">
<span class="sig-name descname"><span class="pre">defaultworker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">row</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pygrametl.steps.MappingStep.defaultworker" title="Link to this definition">¶</a></dt>
<dd><p>Perform the Step’s operation on the given row.</p>
<p>Inheriting classes should implement this method.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pygrametl.steps.PrintStep">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pygrametl.steps.</span></span><span class="sig-name descname"><span class="pre">PrintStep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">next</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pygrametl.steps.PrintStep" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pygrametl.steps.Step" title="pygrametl.steps.Step"><code class="xref py py-class docutils literal notranslate"><span class="pre">Step</span></code></a></p>
<p>A Step that prints each given row.</p>
<p><strong>Arguments:</strong></p>
<ul class="simple">
<li><p>next: The default next step to use. This should be 1) an instance
of a Step, 2) the name of a Step, or 3) None.
If if is a name, the next step will be looked up dynamically
each time. If it is None, no default step will exist and rows
will not be passed on. Default: None</p></li>
<li><p>name: A name for the Step instance. This is used when another
Step (implicitly or explicitly) passes on rows. If two instanes
have the same name, the name is mapped to the instance that was
created the latest. Default: None</p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="pygrametl.steps.PrintStep.defaultworker">
<span class="sig-name descname"><span class="pre">defaultworker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">row</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pygrametl.steps.PrintStep.defaultworker" title="Link to this definition">¶</a></dt>
<dd><p>Perform the Step’s operation on the given row.</p>
<p>Inheriting classes should implement this method.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pygrametl.steps.RenamingFromToStep">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pygrametl.steps.</span></span><span class="sig-name descname"><span class="pre">RenamingFromToStep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">renaming</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">next</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pygrametl.steps.RenamingFromToStep" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pygrametl.steps.Step" title="pygrametl.steps.Step"><code class="xref py py-class docutils literal notranslate"><span class="pre">Step</span></code></a></p>
<p>Step that performs renamings of attributes in rows.</p>
<p><strong>Arguments:</strong></p>
<ul class="simple">
<li><p>name: A name for the Step instance. This is used when another
Step (implicitly or explicitly) passes on rows. If two instanes
have the same name, the name is mapped to the instance that was
created the latest. Default: None</p></li>
<li><p>renaming: A dict with pairs (oldname, newname) which will
by used by pygrametl.renamefromto to do the renaming</p></li>
<li><p>next: The default next step to use. This should be 1) an instance
of a Step, 2) the name of a Step, or 3) None.
If if is a name, the next step will be looked up dynamically
each time. If it is None, no default step will exist and rows
will not be passed on. Default: None</p></li>
<li><p>name: A name for the Step instance. This is used when another
Step (implicitly or explicitly) passes on rows. If two instanes
have the same name, the name is mapped to the instance that was
created the latest. Default: None</p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="pygrametl.steps.RenamingFromToStep.defaultworker">
<span class="sig-name descname"><span class="pre">defaultworker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">row</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pygrametl.steps.RenamingFromToStep.defaultworker" title="Link to this definition">¶</a></dt>
<dd><p>Perform the Step’s operation on the given row.</p>
<p>Inheriting classes should implement this method.</p>
</dd></dl>

</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pygrametl.steps.RenamingStep">
<span class="sig-prename descclassname"><span class="pre">pygrametl.steps.</span></span><span class="sig-name descname"><span class="pre">RenamingStep</span></span><a class="headerlink" href="#pygrametl.steps.RenamingStep" title="Link to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#pygrametl.steps.RenamingFromToStep" title="pygrametl.steps.RenamingFromToStep"><code class="xref py py-class docutils literal notranslate"><span class="pre">RenamingFromToStep</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pygrametl.steps.RenamingToFromStep">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pygrametl.steps.</span></span><span class="sig-name descname"><span class="pre">RenamingToFromStep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">renaming</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">next</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pygrametl.steps.RenamingToFromStep" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pygrametl.steps.RenamingFromToStep" title="pygrametl.steps.RenamingFromToStep"><code class="xref py py-class docutils literal notranslate"><span class="pre">RenamingFromToStep</span></code></a></p>
<p><strong>Arguments:</strong></p>
<ul class="simple">
<li><p>name: A name for the Step instance. This is used when another
Step (implicitly or explicitly) passes on rows. If two instanes
have the same name, the name is mapped to the instance that was
created the latest. Default: None</p></li>
<li><p>renaming: A dict with pairs (oldname, newname) which will
by used by pygrametl.renamefromto to do the renaming</p></li>
<li><p>next: The default next step to use. This should be 1) an instance
of a Step, 2) the name of a Step, or 3) None.
If if is a name, the next step will be looked up dynamically
each time. If it is None, no default step will exist and rows
will not be passed on. Default: None</p></li>
<li><p>name: A name for the Step instance. This is used when another
Step (implicitly or explicitly) passes on rows. If two instanes
have the same name, the name is mapped to the instance that was
created the latest. Default: None</p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="pygrametl.steps.RenamingToFromStep.defaultworker">
<span class="sig-name descname"><span class="pre">defaultworker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">row</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pygrametl.steps.RenamingToFromStep.defaultworker" title="Link to this definition">¶</a></dt>
<dd><p>Perform the Step’s operation on the given row.</p>
<p>Inheriting classes should implement this method.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pygrametl.steps.SCDimensionStep">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pygrametl.steps.</span></span><span class="sig-name descname"><span class="pre">SCDimensionStep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dimension</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">next</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pygrametl.steps.SCDimensionStep" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pygrametl.steps.Step" title="pygrametl.steps.Step"><code class="xref py py-class docutils literal notranslate"><span class="pre">Step</span></code></a></p>
<p>A Step that performs scdensure(row) on a given dimension for each row.</p>
<p><strong>Arguments:</strong></p>
<ul class="simple">
<li><p>dimension: the Dimension object to call ensure on.</p></li>
<li><p>keyfield: the name of the attribute that in each row is set to
hold the key value for the dimension member</p></li>
<li><p>next: The default next step to use. This should be 1) an instance
of a Step, 2) the name of a Step, or 3) None.
If if is a name, the next step will be looked up dynamically
each time. If it is None, no default step will exist and rows
will not be passed on. Default: None</p></li>
<li><p>name: A name for the Step instance. This is used when another
Step (implicitly or explicitly) passes on rows. If two instanes
have the same name, the name is mapped to the instance that was
created the latest. Default: None</p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="pygrametl.steps.SCDimensionStep.defaultworker">
<span class="sig-name descname"><span class="pre">defaultworker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">row</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pygrametl.steps.SCDimensionStep.defaultworker" title="Link to this definition">¶</a></dt>
<dd><p>Perform the Step’s operation on the given row.</p>
<p>Inheriting classes should implement this method.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pygrametl.steps.SourceStep">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pygrametl.steps.</span></span><span class="sig-name descname"><span class="pre">SourceStep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">next</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pygrametl.steps.SourceStep" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pygrametl.steps.Step" title="pygrametl.steps.Step"><code class="xref py py-class docutils literal notranslate"><span class="pre">Step</span></code></a></p>
<p>A Step that iterates over a data source and gives each row to the
next step. The start method must be called.</p>
<p><strong>Arguments:</strong></p>
<ul class="simple">
<li><p>source: The data source. Must be iterable.</p></li>
<li><p>next: The default next step to use. This should be 1) an instance
of a Step, 2) the name of a Step, or 3) None.
If if is a name, the next step will be looked up dynamically
each time. If it is None, no default step will exist and rows
will not be passed on. Default: None</p></li>
<li><p>name: A name for the Step instance. This is used when another
Step (implicitly or explicitly) passes on rows. If two instanes
have the same name, the name is mapped to the instance that was
created the latest. Default: None</p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="pygrametl.steps.SourceStep.start">
<span class="sig-name descname"><span class="pre">start</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pygrametl.steps.SourceStep.start" title="Link to this definition">¶</a></dt>
<dd><p>Start the iteration of the source’s rows and pass them on.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pygrametl.steps.Step">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pygrametl.steps.</span></span><span class="sig-name descname"><span class="pre">Step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">worker</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">next</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pygrametl.steps.Step" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The basic class for steps in an ETL flow.</p>
<p><strong>Arguments:</strong></p>
<ul class="simple">
<li><p>worker: A function f(row) that performs the Step’s operation.
If None, self.defaultworker is used. Default: None</p></li>
<li><p>next: The default next step to use. This should be 1) an instance
of a Step, 2) the name of a Step, or 3) None.
If if is a name, the next step will be looked up dynamically
each time. If it is None, no default step will exist and rows
will not be passed on. Default: None</p></li>
<li><p>name: A name for the Step instance. This is used when another
Step (implicitly or explicitly) passes on rows. If two instanes
have the same name, the name is mapped to the instance that was
created the latest. Default: None</p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="pygrametl.steps.Step.defaultworker">
<span class="sig-name descname"><span class="pre">defaultworker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">row</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pygrametl.steps.Step.defaultworker" title="Link to this definition">¶</a></dt>
<dd><p>Perform the Step’s operation on the given row.</p>
<p>Inheriting classes should implement this method.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pygrametl.steps.Step.getstep">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">getstep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pygrametl.steps.Step.getstep" title="Link to this definition">¶</a></dt>
<dd><p>Return the Step instance with the given name</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pygrametl.steps.Step.name">
<span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pygrametl.steps.Step.name" title="Link to this definition">¶</a></dt>
<dd><p>Return the name of the Step instance</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pygrametl.steps.Step.process">
<span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">row</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pygrametl.steps.Step.process" title="Link to this definition">¶</a></dt>
<dd><p>Perform the Step’s operation on the given row.</p>
<p>If the row is not explicitly redirected (see _redirect), it will
be passed on the the next step if this has been set.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pygrametl.steps.ValueMappingStep">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pygrametl.steps.</span></span><span class="sig-name descname"><span class="pre">ValueMappingStep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">outputatt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inputatt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapping</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">requireinput</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">defaultvalue</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">next</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pygrametl.steps.ValueMappingStep" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pygrametl.steps.Step" title="pygrametl.steps.Step"><code class="xref py py-class docutils literal notranslate"><span class="pre">Step</span></code></a></p>
<p>A Step that Maps values to other values (e.g., DK -&gt; Denmark)</p>
<p><strong>Arguments:</strong></p>
<ul class="simple">
<li><p>outputatt: The attribute to write the mapped value to in each row.</p></li>
<li><p>inputatt: The attribute to map.</p></li>
<li><p>mapping: A dict with the mapping itself.</p></li>
<li><p>requireinput: A flag that decides if a KeyError should be raised
if inputatt does not exist in a given row. If True, a KeyError
will be raised when the attriubte is missing. If False, a
the outputatt will be set to defaultvalue. Default: True</p></li>
<li><p>defaultvalue: The default value to use when the mapping cannot be
done. Default: None</p></li>
<li><p>next: The default next step to use. This should be 1) an instance
of a Step, 2) the name of a Step, or 3) None.
If if is a name, the next step will be looked up dynamically
each time. If it is None, no default step will exist and rows
will not be passed on. Default: None</p></li>
<li><p>name: A name for the Step instance. This is used when another
Step (implicitly or explicitly) passes on rows. If two instanes
have the same name, the name is mapped to the instance that was
created the latest. Default: None</p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="pygrametl.steps.ValueMappingStep.defaultworker">
<span class="sig-name descname"><span class="pre">defaultworker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">row</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pygrametl.steps.ValueMappingStep.defaultworker" title="Link to this definition">¶</a></dt>
<dd><p>Perform the Step’s operation on the given row.</p>
<p>Inheriting classes should implement this method.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pygrametl.steps.connectsteps">
<span class="sig-prename descclassname"><span class="pre">pygrametl.steps.</span></span><span class="sig-name descname"><span class="pre">connectsteps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">steps</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pygrametl.steps.connectsteps" title="Link to this definition">¶</a></dt>
<dd><p>Set a.next = b, b.next = c, etc. when given the steps a, b, c, …</p>
</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">pygrametl</a></h1>








<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../quickstart/install.html">Install Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart/beginner.html">Beginner Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../examples/database.html">Database</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/datasources.html">Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/dimensions.html">Dimensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/facttables.html">Fact Tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/bulkloading.html">Bulk Loading</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/parallel.html">Parallel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/jython.html">Jython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/testing.html">Testing</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="pygrametl.html">pygrametl</a></li>
<li class="toctree-l1"><a class="reference internal" href="datasources.html">datasources</a></li>
<li class="toctree-l1"><a class="reference internal" href="tables.html">tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="parallel.html">parallel</a></li>
<li class="toctree-l1"><a class="reference internal" href="jdbcconnectionwrapper.html">JDBCConnectionWrapper</a></li>
<li class="toctree-l1"><a class="reference internal" href="jythonmultiprocessing.html">jythonmultiprocessing</a></li>
<li class="toctree-l1"><a class="reference internal" href="aggregators.html">aggregators</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">steps</a></li>
<li class="toctree-l1"><a class="reference internal" href="fifodict.html">FIFODict</a></li>
<li class="toctree-l1"><a class="reference internal" href="drawntabletesting.html">drawntabletesting</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="aggregators.html" title="previous chapter">aggregators</a></li>
      <li>Next: <a href="fifodict.html" title="next chapter">FIFODict</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2009 - 2023, Aalborg University.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.2.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../_sources/api/steps.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>